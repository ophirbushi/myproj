<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <style>
    :root {
      --top-height: 8rem;
      --bottom-height: 5rem;
      --side-width: 6rem;
    }

    .app {
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Ensure main-container fills the space even with overlays */
    .main-container {
      position: relative;
      /* necessary for absolute children to anchor to */
      flex: 1;
      display: flex;
      align-items: center;
    }

    .top {
      height: var(--top-height);
      background-color: aliceblue;
    }

    .main {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .main table {
      border-collapse: separate;
    }

    .left {
      width: var(--side-width);
      background-color: violet;
      height: 100%;
    }

    .right {
      width: var(--side-width);
      background-color: lightgrey;
      height: 100%;
    }

    .left,
    .right {
      transition: none .2s ease-out;
      transition-property: width;
    }

    .bottom {
      height: var(--bottom-height);
      background-color: beige;
    }

    /* Overlay mode: bars are positioned absolutely */
    .overlay-bars .left,
    .overlay-bars .right {
      position: absolute;
      top: var(--top-height);
      bottom: var(--bottom-height);
      z-index: 10;
    }

    .overlay-bars .left {
      width: 2rem;
      top: 0;
      left: 0;
    }

    .overlay-bars .right {
      width: 2rem;
      top: 0;
      right: 0;
    }

    .overlay-bars .left.is-visible,
    .overlay-bars .right.is-visible {
      width: var(--side-width);
    }

    .overlay-bars .side-content {
      transition: opacity .2s ease-out;
      opacity: 0;
      visibility: none;
    }

    .overlay-bars .is-visible .side-content {
      opacity: 1;
      visibility: visible;
    }
  </style>

</head>

<body>
  <div class="app overlay-bars">
    <div class="top"></div>
    <div class="main-container">
      <div class="left" onclick="toggleSide('left')">
        <div class="side-content">
          <button class="btn btn-primary">abc</button>
          <button class="btn btn-primary">def</button>
          <button class="btn btn-primary">xyz</button>
        </div>
      </div>
      <div class="main">
        <table>

        </table>
      </div>
      <div class="right" onclick="toggleSide('right')"></div>
    </div>

    <div class="bottom"></div>
  </div>

  <script src="./script.js"></script>
  <script>
    initTable()

    function initTable() {
      const table = document.querySelector('.main table')

      const rows = [];
      const columns = [];

      for (let y = 0; y < 11; y++) {
        rows.push(y);
      }
      for (let x = 0; x < 13; x++) {
        columns.push(x);
      }

      table.innerHTML = `${rows.map(row => `
      <tr>
        ${columns.map(column => `<td> ${Math.floor(Math.random() * 10)} </td>`).join(' ')}
      </tr>
    `).join('')
        }`
    }

    function toggleOverlayMode() {
      document.querySelector('.app').classList.toggle('overlay-bars');
    }

    function toggleSide(side) {
      document.querySelector('.' + side).classList.toggle('is-visible');
    }

  </script>
</body>

</html>